<!doctype html>
<html lang="lv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <title>CADET.LV Interaktīvais kompass © Jānis Eglis</title>

  <!-- Stili -->
  <link rel="stylesheet" href="style.css">

  <!-- Leaflet (ja nelieto tiešsaistes karti, vari izdzēst šīs 2 rindas) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>

  <!-- Galvenais skripts -->
  <script type="module" src="app.js" defer></script>
</head>
<body>
  <!-- Orientācijas pārklājums mobilajām ierīcēm -->
  <div id="orientationOverlay" class="overlay hidden" aria-hidden="true">
    <div class="overlay-card">
      <div class="overlay-title">Pagriez ierīci ainavas režīmā</div>
      <div class="overlay-sub">Labākai pieredzei izmanto horizontālo skatu</div>
    </div>
  </div>

  <!-- Pilnekrāna paziņojums (ja vajag) -->
  <div id="fullscreenHint" class="overlay hidden" aria-hidden="true">
    <div class="overlay-card">
      <div class="overlay-title">Ieslēdz pilnekrānu (F11)</div>
      <div class="overlay-sub">Vairāk vietas darbam ar kompasu un karti</div>
    </div>
  </div>

  <!-- Pamatkonteiners -->
  <div id="canvasContainer" role="application" aria-label="Interaktīvā karte un kompass">
    <!-- Kanva (tīklojums/atskaitei vai foniem) -->
    <canvas id="mapCanvas" width="1920" height="1080"></canvas>

    <!-- Tiešsaistes karte + tumšošanas pārklājums -->
    <div id="onlineMap" aria-label="Tiešsaistes karte" hidden></div>
    <div id="onlineMapDim" aria-hidden="true"></div>

    <!-- Kompass (SVG, bez bildēm) -->
    <div id="compassContainer" aria-label="Kompass">
      <svg id="compassSVG" viewBox="0 0 300 300" role="img" aria-label="Kompass">
        <!-- Mērskala -->
        <g id="compassScaleGroup"></g>
        <!-- Adata -->
        <g id="compassNeedle" transform="translate(150,150)">
          <polygon points="0,-110 8,0 0,18 -8,0" class="needle"/>
          <circle r="6" class="needle-cap"></circle>
        </g>
        <!-- Centrs -->
        <circle cx="150" cy="150" r="4" class="center-dot"/>
      </svg>
    </div>
  </div>

  <!-- Apakšējais DOCK ar pogām (nav sākuma pogas) -->
  <div id="dock" class="dock">
    <button id="toggleOnlineMap" class="dock-btn" title="Tiešsaistes karte ON/OFF" aria-pressed="false">
      <!-- Ikona: karte -->
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15 6l-6 2-6-2v12l6 2 6-2 6 2V8l-6-2zm0 2v10l-6 2V10l6-2z"/></svg>
    </button>

    <button id="rotateCompass90" class="dock-btn" title="Pagriezt kompasu +90°">
      <!-- Ikona: rotācija -->
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 6V3L8 7l4 4V8c2.76 0 5 2.24 5 5a5 5 0 11-5-5z"/></svg>
    </button>

    <button id="toggleFullscreen" class="dock-btn" title="Pilnekrāns">
      <!-- Ikona: pilnekrāns -->
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 7h4V5H5v6h2V7zm6 0h4v4h2V5h-6v2zm4 10h-4v2h6v-6h-2v4zM7 13H5v6h6v-2H7v-4z"/></svg>
    </button>

    <div class="dock-slider">
      <label for="opacityRange">Karte tumšums</label>
      <input id="opacityRange" type="range" min="0" max="100" value="0" step="1" />
    </div>
  </div>
</body>
</html>
