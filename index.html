<!doctype html>
<html lang="lv">
<head>
  <meta charset="utf-8" />



<script>
/* ==============================================================
   DEVTOOL V1 — compact, early-capture, one-file, safe
   Ievieto PATS PIRMAIS (head vai uzreiz pēc <body>).
   ============================================================== */
(function(){
  'use strict';
  try {

  /* ====== Early buffer & helpers ====== */
  const T0 = (performance && performance.timeOrigin) || Date.now();
  const pad = n => (n<10 ? '0'+n : ''+n);
  const ts  = () => {
    const ms = Math.max(0, Math.round(performance.now ? performance.now() : (Date.now()-T0)));
    const s = Math.floor(ms/1000), m = Math.floor(s/60), rems = s%60;
    return `[${pad(m)}:${pad(rems)}.${(ms%1000+'').padStart(3,'0')}]`;
  };

  const ringMax = 2000;
  const buf = [];
  let ERR=0, WRN=0, LOG=0, INF=0, DBG=0;

  function safeString(v){
    try{
      if (typeof v === 'string') return v;
      if (v instanceof Error) return (v.stack || (v.name+': '+v.message));
      return JSON.stringify(v);
    } catch(_){ return String(v); }
  }
  function lineJoin(args){ return args.map(safeString).join(' '); }

  /* ====== UI state ====== */
  const LS = {
    OPEN:'dt.open', POS:'dt.pos', SIZE:'dt.size',
    LOCK:'dt.lock', PAUSE:'dt.pause', HOOK:'dt.hook', AUTO:'dt.auto'
  };
  const els = { btn:null, panel:null, body:null, lock:null, pause:null };
  let autoOpen = true;

  /* ====== CSS inject (button + panel) ====== */
  (function injectCSS(){
    const css = `
#dtToggle{
  position:fixed; right:12px; bottom:var(--dock-bottom,35px);
  width:44px; height:44px; border-radius:12px; display:grid; place-items:center;
  border:1px solid rgba(255,255,255,.16);
  background:linear-gradient(180deg,#1b1f25,#2a0f0faa);
  box-shadow:0 10px 24px rgba(0,0,0,.55); color:#fff; font:20px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  cursor:pointer; z-index:2147483647; -webkit-tap-highlight-color:transparent; user-select:none; pointer-events:auto;
}
#dtToggle::after{
  content: attr(data-badge);
  position:absolute; top:-6px; right:-6px; min-width:18px; height:18px; padding:0 4px;
  background:#E53935; color:#fff; border-radius:10px; border:1px solid #fff3;
  font:11px/18px ui-monospace,Menlo,Consolas,monospace; text-align:center;
}
#dtPanel{
  position:fixed; right:64px; bottom:var(--dock-bottom,35px);
  width:380px; max-width:96vw; max-height:60vh; min-height:140px;
  display:none; flex-direction:column; overflow:hidden; resize:both;
  border-radius:14px; border:1px solid rgba(255,255,255,.08);
  background:linear-gradient(180deg,#1b1f25,#2a0f0faa); color:#eef2f7;
  box-shadow:0 16px 40px rgba(0,0,0,.55); z-index:2147483647; backdrop-filter:saturate(1.2) blur(8px);
}
#dtPanel.open{ display:flex; }
#dtPanel .bar{
  display:flex; align-items:center; gap:8px; padding:8px 10px; user-select:none; cursor:move;
  border-bottom:1px solid rgba(255,255,255,.06);
  background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));
}
#dtPanel .bar .t{ font-size:13px; letter-spacing:.2px; }
#dtPanel .bar .sp{ flex:1; }
#dtPanel .bar button,
#dtPanel .foot button, #dtPanel .foot label{
  appearance:none; border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.08); color:#fff; border-radius:8px; padding:4px 8px; font-size:12px; cursor:pointer;
}
#dtPanel .bar button:hover,
#dtPanel .foot button:hover{ background:rgba(255,255,255,.14); }
#dtPanel .body{
  flex:1 1 auto; overflow:auto; padding:10px;
  font:12px/1.35 ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  white-space:pre-wrap; word-break:break-word;
}
#dtPanel .foot{ display:flex; flex-wrap:wrap; gap:6px; align-items:center; padding:8px; border-top:1px solid rgba(255,255,255,.06); }
#dtPanel input[type=checkbox]{ transform:translateY(1px); }
@media (max-width:760px){
  #dtPanel{ right:10px; width:92vw; max-height:62vh; }
  #dtToggle{ right:10px; }
}`;
    const st = document.createElement('style');
    st.textContent = css;
    (document.head || document.documentElement).appendChild(st);
  })();

  /* ====== Console hook (early) ====== */
  const orig = {
    log: console.log, warn: console.warn, error: console.error,
    info: console.info, debug: console.debug
  };
  let hooked = true;
  function bumpBadge(){
    if (!els.btn) return;
    const b = `E:${ERR}${WRN?` W:${WRN}`:''}`;
    els.btn.setAttribute('data-badge', (ERR||WRN) ? b : '');
  }
  function appendLine(line){
    if (!els.body) return;
    if (els.pause && els.pause.checked) return;
    const atBottom = els.lock && els.lock.checked
      ? (els.body.scrollTop + els.body.clientHeight >= els.body.scrollHeight - 4) : false;
    els.body.appendChild(document.createTextNode(line+'\n'));
    if (els.lock && els.lock.checked || atBottom) els.body.scrollTop = els.body.scrollHeight;
  }
  function push(kind, args){
    const line = `${ts()} ${kind} ${lineJoin(args)}`;
    if (buf.length >= ringMax) buf.shift();
    buf.push(line);
    if (kind==='ERR') ERR++; else if (kind==='WRN') WRN++; else if (kind==='LOG') LOG++;
    else if (kind==='INF') INF++; else if (kind==='DBG') DBG++;
    bumpBadge();
    if (els.body) appendLine(line);
    if (autoOpen && kind==='ERR') openPanel();
  }
  function hookConsole(){
    if (hooked) return; hooked = true;
    console.log   = function(){ try{ push('LOG', [...arguments]); }catch(_){ } return orig.log.apply(console, arguments); };
    console.warn  = function(){ try{ push('WRN', [...arguments]); }catch(_){ } return orig.warn.apply(console, arguments); };
    console.error = function(){ try{ push('ERR', [...arguments]); }catch(_){ } return orig.error.apply(console, arguments); };
    console.info  = function(){ try{ push('INF', [...arguments]); }catch(_){ } return orig.info.apply(console, arguments); };
    console.debug = function(){ try{ push('DBG', [...arguments]); }catch(_){ } return orig.debug.apply(console, arguments); };
  }
  function unhookConsole(){
    if (!hooked) return; hooked = false;
    console.log=orig.log; console.warn=orig.warn; console.error=orig.error; console.info=orig.info; console.debug=orig.debug;
  }
  // start capture immediately
  hookConsole();

  /* ====== Global error/resource/rejection ====== */
  window.addEventListener('error',  e => push('ERR', [e.message, '@', e.filename+':'+e.lineno+':'+e.colno]));
  window.addEventListener('unhandledrejection', e => {
    const r = e && e.reason;
    push('ERR', ['UnhandledPromise', r && (r.stack||r.message||String(r))]);
  });
  document.addEventListener('error', e=>{
    const el = e.target || {};
    const tag = el.tagName || '?';
    if (tag==='IMG'||tag==='SCRIPT'||tag==='LINK'){
      const src = el.currentSrc || el.src || el.href || '(nav)';
      push('ERR', [`Resursa kļūda <${tag.toLowerCase()}>:`, src]);
    }
  }, true);

  /* ====== Performance observers (buffered) ====== */
  try{
    if (window.PerformanceObserver){
      new PerformanceObserver(list=>{
        for (const e of list.getEntries()) push('INF', ['paint', e.name, Math.round(e.startTime)+'ms']);
      }).observe({type:'paint', buffered:true});

      let cls=0;
      new PerformanceObserver(list=>{
        for (const e of list.getEntries()) if (!e.hadRecentInput) cls += e.value;
        push('INF', ['CLS', cls.toFixed(3)]);
      }).observe({type:'layout-shift', buffered:true});

      const lcpObs = new PerformanceObserver(list=>{
        const last = list.getEntries().pop();
        if (last) push('INF', ['LCP', Math.round(last.startTime)+'ms']);
      });
      lcpObs.observe({type:'largest-contentful-paint', buffered:true});
      addEventListener('visibilitychange', ()=>{ if (document.visibilityState==='hidden') try{ lcpObs.disconnect(); }catch(_){} });

      new PerformanceObserver(list=>{
        const e=list.getEntries()[0]; if (e) push('INF', ['FID', Math.round(e.processingStart - e.startTime)+'ms']);
      }).observe({type:'first-input', buffered:true});

      new PerformanceObserver(list=>{
        if (list.getEntries().length) push('WRN', ['LongTasks', list.getEntries().length]);
      }).observe({type:'longtask', buffered:true});
    }
    setTimeout(()=>{
      try{
        const nav = performance.getEntriesByType('navigation')[0];
        if (nav){
          const data = {
            type: nav.type,
            ttfb: Math.round(nav.responseStart),
            domInteractive: Math.round(nav.domInteractive),
            domContentLoaded: Math.round(nav.domContentLoadedEventEnd),
            loadEventEnd: Math.round(nav.loadEventEnd)
          };
          push('INF', ['navigation', JSON.stringify(data)]);
        }
      }catch(_){}
    },0);
  }catch(_){}

  /* ====== Simple XHR/fetch tap (lightweight) ====== */
  (function tapFetchXHR(){
    const _fetch = window.fetch;
    if (_fetch){
      window.fetch = function(){
        const url = arguments[0] && arguments[0].url ? arguments[0].url : String(arguments[0]);
        push('INF', ['fetch→', url]);
        return _fetch.apply(this, arguments).then(res=>{
          push(res.ok?'INF':'WRN', ['fetch←', res.status, url]);
          return res;
        }).catch(err=>{ push('ERR', ['fetch✖', url, err && err.message]); throw err; });
      };
    }
    const XHR = window.XMLHttpRequest;
    if (XHR){
      const open = XHR.prototype.open, send = XHR.prototype.send;
      XHR.prototype.open = function(m,u){ this.__dt_url = u; return open.apply(this, arguments); };
      XHR.prototype.send = function(){
        const url=this.__dt_url||'?'; push('INF', ['xhr→', url]);
        this.addEventListener('load', ()=>push((this.status>=200&&this.status<400)?'INF':'WRN',['xhr←',this.status,url]));
        this.addEventListener('error',()=>push('ERR',['xhr✖',url]));
        return send.apply(this, arguments);
      };
    }
  })();

  /* ====== UI build (after body exists) ====== */
  function ensureUI(){
    if (els.btn && els.panel) return;
    if (!document.body) { setTimeout(ensureUI, 0); return; }

    // toggle button
    const btn = document.createElement('button');
    btn.id='dtToggle'; btn.type='button'; btn.title='DevTool'; btn.textContent='🛠';
    Object.assign(btn.style,{
      position:'fixed', right:'12px', bottom:'35px', display:'grid',
      zIndex:2147483647, pointerEvents:'auto', opacity:'1', visibility:'visible'
    });
    document.body.appendChild(btn);
    els.btn = btn;

    // panel
    const panel = document.createElement('div');
    panel.id='dtPanel';
    panel.innerHTML = `
      <div class="bar" id="dtBar">
        <span class="t">DevTool</span><span class="sp"></span>
        <button data-act="clear">Notīrīt</button>
        <button data-act="min">Min</button>
        <button data-act="close">✖</button>
      </div>
      <div class="body" id="dtBody"></div>
      <div class="foot">
        <button id="dtCopy">Kopēt atskaiti</button>
        <button id="dtDl">Lejupielādēt .txt</button>
        <label><input type="checkbox" id="dtLock" checked> Scroll-lock</label>
        <label><input type="checkbox" id="dtPause"> Pauze</label>
        <label><input type="checkbox" id="dtHook" checked> Ķert console</label>
        <label><input type="checkbox" id="dtAuto" checked> Auto-atvērt pie kļūdas</label>
      </div>`;
    document.body.appendChild(panel);
    els.panel = panel;
    els.body  = panel.querySelector('#dtBody');
    els.lock  = panel.querySelector('#dtLock');
    els.pause = panel.querySelector('#dtPause');

    // restore state
    try{
      const pos  = JSON.parse(localStorage.getItem(LS.POS)||'null');
      const size = JSON.parse(localStorage.getItem(LS.SIZE)||'null');
      const open = localStorage.getItem(LS.OPEN)==='1';
      const lock = localStorage.getItem(LS.LOCK)!=='0';
      const pause= localStorage.getItem(LS.PAUSE)==='1';
      const hook = localStorage.getItem(LS.HOOK)!=='0';
      autoOpen   = localStorage.getItem(LS.AUTO)!=='0';

      if (size && size.w && size.h){ panel.style.width=size.w+'px'; panel.style.height=size.h+'px'; }
      if (pos && pos.r!=null && pos.b!=null){ panel.style.right=pos.r+'px'; panel.style.bottom=pos.b+'px'; }
      if (open) panel.classList.add('open');
      els.lock.checked  = lock;
      els.pause.checked = pause;
      panel.querySelector('#dtHook').checked = hook;
      panel.querySelector('#dtAuto').checked = autoOpen;
      if (!hook) unhookConsole();
    }catch(_){}

    // wire controls
    btn.addEventListener('click', ()=>{ panel.classList.toggle('open'); saveState(); });
    panel.querySelector('[data-act="close"]').addEventListener('click', ()=>{ panel.classList.remove('open'); saveState(); });
    panel.querySelector('[data-act="min"]').addEventListener('click', ()=>{
      const h = parseInt(panel.style.height||'0',10);
      panel.style.height = (h && h<120) ? '' : '38px'; saveState();
    });
    panel.querySelector('[data-act="clear"]').addEventListener('click', ()=>{ els.body.textContent=''; });

    // drag by bar
    (function drag(){
      const bar=panel.querySelector('#dtBar');
      let dragging=false, sx=0, sy=0, startR=0, startB=0;
      const down=e=>{ dragging=true; const p=e.touches?e.touches[0]:e; sx=p.clientX; sy=p.clientY;
        const cs=getComputedStyle(panel); startR=parseFloat(cs.right); startB=parseFloat(cs.bottom); e.preventDefault(); };
      const move=e=>{ if(!dragging) return; const p=e.touches?e.touches[0]:e;
        panel.style.right=(startR-(p.clientX-sx))+'px'; panel.style.bottom=(startB-(p.clientY-sy))+'px'; };
      const up =()=>{ if(dragging){ dragging=false; saveState(); } };
      bar.addEventListener('mousedown',down); bar.addEventListener('touchstart',down,{passive:false});
      addEventListener('mousemove',move,{passive:false}); addEventListener('touchmove',move,{passive:false});
      addEventListener('mouseup',up); addEventListener('touchend',up);
    })();

    // persist size
    if (window.ResizeObserver){
      new ResizeObserver(()=>saveState()).observe(panel);
    }

    // checkboxes
    els.lock.addEventListener('change', ()=> localStorage.setItem(LS.LOCK, els.lock.checked?'1':'0'));
    els.pause.addEventListener('change',()=> localStorage.setItem(LS.PAUSE,els.pause.checked?'1':'0'));
    panel.querySelector('#dtHook').addEventListener('change', e=>{
      localStorage.setItem(LS.HOOK, e.target.checked?'1':'0');
      e.target.checked ? hookConsole() : unhookConsole();
    });
    panel.querySelector('#dtAuto').addEventListener('change', e=>{
      autoOpen = !!e.target.checked;
      localStorage.setItem(LS.AUTO, autoOpen?'1':'0');
    });

    // copy & download
    panel.querySelector('#dtCopy').addEventListener('click', async ()=>{
      const text = buildReport();
      try{
        if (navigator.clipboard && window.isSecureContext){ await navigator.clipboard.writeText(text); alert('Atskaite nokopēta.'); }
        else { const ta=document.createElement('textarea'); ta.value=text; ta.style.position='fixed'; ta.style.opacity='0';
               document.body.appendChild(ta); ta.select(); document.execCommand('copy'); document.body.removeChild(ta); alert('Atskaite nokopēta.'); }
      }catch(e){ alert('Neizdevās kopēt: '+e.message); }
    });
    panel.querySelector('#dtDl').addEventListener('click', ()=>{
      const blob = new Blob([buildReport()], {type:'text/plain'});
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob);
      a.download = 'devtool-report.txt'; a.click(); setTimeout(()=>URL.revokeObjectURL(a.href), 5000);
    });

    // flush buffered lines
    buf.forEach(appendLine);
    bumpBadge();
  }
  function openPanel(){ ensureUI(); els.panel && els.panel.classList.add('open'); saveState(); }
  function saveState(){
    if (!els.panel) return;
    try{
      const cs=getComputedStyle(els.panel);
      localStorage.setItem(LS.OPEN, els.panel.classList.contains('open')?'1':'0');
      localStorage.setItem(LS.SIZE, JSON.stringify({ w: parseInt(els.panel.style.width||els.panel.offsetWidth,10), h: parseInt(els.panel.style.height||els.panel.offsetHeight,10) }));
      localStorage.setItem(LS.POS,  JSON.stringify({ r: parseFloat(cs.right), b: parseFloat(cs.bottom) }));
    }catch(_){}
  }
  function buildReport(){
    const hdr = [
      '=== DevTool Report ===',
      'Time: ' + new Date().toISOString(),
      'URL:  ' + location.href,
      'UA:   ' + navigator.userAgent,
      `Counts: ERR=${ERR} WRN=${WRN} LOG=${LOG} INF=${INF} DBG=${DBG}`,
      '----------------------'
    ].join('\n');
    return hdr+'\n'+buf.join('\n')+'\n';
  }

  // mark lifecycle
  document.addEventListener('readystatechange', ()=>push('INF',['readyState=',document.readyState]));
  addEventListener('DOMContentLoaded', ()=>push('INF',['DOMContentLoaded']));
  addEventListener('load', ()=>push('INF',['window.load']));

  // show UI as soon as body exists
  ensureUI();

  } catch (fatal) {
    try { console.error('[DevTool fatal]', fatal); } catch(_){}
  }
})();
</script>







  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <title>CADET.LV Interaktīvais kompass © Jānis Eglis</title>

  <!-- Trešo pušu CSS vispirms -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">

  <!-- Tavs CSS pēc tam, lai var pārrakstīt -->
  <link rel="stylesheet" href="style.css">

  <!-- (pēc vajadzības) vieta JS ģenerētiem stiliem -->
  <style id="runtime-styles"></style>

  <!-- Leaflet JS pirms tava koda -->
  <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

 
<!-- Tikai vecajiem pārlūkiem (Chrome 60 u.c.) -->
<script nomodule src="https://cdn.jsdelivr.net/npm/core-js-bundle/minified.js"></script>
<script nomodule src="https://cdn.jsdelivr.net/npm/resize-observer-polyfill@1.5.1/dist/ResizeObserver.global.js"></script>






	

	
</head>
<body>


	
<!-- PRELOADER (sākuma pārklājums) -->
<div id="app-preloader" role="status" aria-live="polite" aria-label="Ielādējam…">
  <div class="preloader-inner">
    <img class="brand" src="https://site-710050.mozfiles.com/files/710050/medium/CADET_TRANSP_.png?1542126381" alt="CADET.LV" />
	<div class="preloader-about" aria-label="Par projektu">
  	<span>CADET.LV</span>
 	<span>INTERAKTĪVAIS KOMPASS</span>
  	<span>© JĀNIS EGLIS</span>
	</div>
	<div class="spinner" aria-hidden="true"></div>
    <div class="progress"><span style="width:0%"></span></div>
    <p class="msg">Ielādējam… 0%</p>
    <button id="preloaderSkip" class="skip" type="button">Turpināt</button>
  </div>
</div>


	
   	<!-- Brīdinājuma pārklājums viedtālruņiem -->
							<div id="mobile-warning" style="display: none;">
								<div class="warning-content">
									<p>Lūdzu, izmantojiet lielāku ekrānu šīs lietotnes darbībai.</p>
									<img style="width:100px; height:auto;" src="https://site-710050.mozfiles.com/files/710050/fullscreen-11-xxl.png" alt="Nepietiekams ekrāna izmērs" style="width: 80%; margin-top: 20px;">
									<p>INTERAKTĪVAIS KOMPASS</p>
									<p style="color: rgba(255, 255, 255, 0.5);">CADET.LV | © Jānis Eglis</p>
								</div>
							</div>

							<!-- Pārklājums mobilajām ierīcēm vertikālā režīmā -->
							<div id="orientation-overlay">
								<h1><img src="https://site-710050.mozfiles.com/files/710050/medium/Rotate_V5-2.jpg" alt="Pagrieziet ierīci"></h1>
							</div>						

							<div id="fullscreenMessage" class="fs-message-hidden">
								<div class="arrow"></div>
								<p id="fullscreenMessagetext">
									<span class="highlight-title">Lūdzu, iestatiet logu pilnā izmērā, lai sāktu darbu.</span>
									<br>
									Varat izmantot F11, lai logu darbinātu pilnekrāna režīmā vai palielināt logu līdz ekrāna izmēram spiežot simbolu "𖧵" pārlūka galvenē.<br><br>
									<a href="https://cadet.lv" target="_blank" style="color: white; font-weight: bold;">CADET.LV</a>
									<br>
									<span style="color: " class="copyright">CADET.LV | © Jānis Eglis</span>
								</p>
							</div> 
							
							<div id="touchscreenPopup"></div>
							
							<div id="fullscreenPopup"></div>

													


							 


<div id="canvasContainer" style="position:fixed;width:1920px;height:1080px;">
  <!-- 1) Vienīgā kanva (lokālajai bildes kartei) -->
  <canvas id="mapCanvas" width="1920" height="1080" style="display:block;width:100%;height:100%;"></canvas>

  <!-- 2) Tiešsaistes karte + tumšošanas pārklājums -->
  <div id="onlineMap">
    <div id="onlineMapDim"></div> <!-- tumšošanas pārklājums, pirmais bērns -->
    <!-- te Leaflet iemetīs karti -->
  </div>
</div>
                



								
							  <!-- Jaunais <img>, kur glabāt augšupielādēto attēlu -->
							  <img id="uploadedImg" 
								   src="" 
								   alt="Augšupielādētais attēls"
								   style="
									 position: absolute;
									 top: 0;
									 left: 0;
									 display: none; /* Slēpts līdz augšupielādē attēlu */
									 cursor: move;  /* Ja vēlaties, var padarīt arī pārvietojamu */
									  
									 ">
									 

							  <!-- MapResize rokturis -->
								<div id="resizeHandle">
									<img src="https://site-710050.mozfiles.com/files/710050/resize_map__1_.png" alt="Resize">
								</div>
							</div>

																			
							<!-- MapResize Papildu elements attēlam -->
							<img id="newUploadedImg" 
								 style="
								   position: absolute; 
								   top: 50px; 
								   left: 50px; 
								   display: none;
								   cursor: move;
								   
								 " 
								 alt="Augšupielādētais attēls">

							<!-- MapResize rokturis -->
							<div id="newResizeHandle"
								 style="
								   display: none;
								   width: 30px;
								   height: 30px;
								   position: absolute;
								   cursor: se-resize;
								   z-index: 9;
								 ">
							</div>						
							

							<div class="dropdown-container">
							        <div class="top-bar">
							            <span class="dropdown-toggle" id="toggleInstruction">Lietotāja ceļvedis ⬇</span>
							            <span class="dropdown-toggle" id="toggleMaterials">Mācību materiāli ⬇</span>
							        </div>
							
							        <div class="dropdown-menu" id="dropdownInstruction">
							            <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/lietotaja-celvedis/page/">DARBAM AR DATORU</a>
							            <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/lietotaja-celvedis/page-1/">DARBAM AR SKĀRIENJŪTĪGĀM IERĪCĒM</a>
										<a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/lietotaja-celvedis/page-2/">LIETOŠANAS NOTEIKUMI</a>
							           <iframe id="instructionFrame" name="contentFrame" style="width: 100%; height: 85vh; border: none;"></iframe>  
							            
							        </div>
							
							        <div class="dropdown-menu" id="dropdownMaterials">
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/topografiskas-kartes/" class="dropdown-link">TOPOGRĀFISKĀS KARTES</a>
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/merogs-un-attalumi/" class="dropdown-link">MĒROGS UN ATTĀLUMI</a>
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/apzimejumi-kartes/" class="dropdown-link">APZĪMĒJUMI KARTĒS</a>
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/direkcijas-lenkis-un-azimuts/" class="dropdown-link">DIREKCIJAS LEŅĶIS UN AZIMUTS</a>
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/koordinates/" class="dropdown-link">KOORDINĀTES</a>
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/citi/" class="dropdown-link">CITI</a>
									
									 
							 <iframe id="contentFrame" name="contentFrame" style="width: 100%; height: 75vh; border: none;"></iframe>
							        </div>
									 			
														
							</div>	
														

							 <!-- Izvēlne konteineram -->
							 <!-- Izvēlne konteineram LABAJĀ pusē -->
							<div class="position-selector-container">
								<div class="position-selector">
									<button class="toggle-selector">❯</button>
									<select id="positionSelect">
										<option disabled selected>Izvēlies pogas novietojumu:</option>
										<option value="bottom">Apakšā (noklusējums)</option>
										<option value="right">Labajā pusē</option>
										<option value="left">Kreisajā pusē</option>
									</select>
								</div>
							</div>

							<!-- Izvēlne konteineram KREISAJĀ pusē -->
							<div class="position-selector-container-left">
								<div class="position-selector-left">
									<button class="toggle-selector-left">❯</button>
									<select id="positionSelectLeft">
										<option disabled selected>Izvēlies pogas novietojumu:</option>
										<option value="bottom">Apakšā (noklusējums)</option>
										<option value="right">Labajā pusē</option>
										<option value="left">Kreisajā pusē</option>
									</select>
								</div>
							</div>

							<!-- Popup grid view -->
							<div id="popupMenu" style="display: none;">
								<h3>Izvēlieties noteikšanas metodi</h3>
								<div class="button-row">
									<button id="popupOption1" class="popup-button">
										<img src="https://site-710050.mozfiles.com/files/710050/GRID_VIEW_1_1.png" alt="Funkcija 1">
									</button>
									<button id="popupOption2" class="popup-button">
										<img src="https://site-710050.mozfiles.com/files/710050/GRID_VIEW_2.png" alt="Funkcija 2">
									</button>
								</div>
								<button id="popupClose" class="popup-close">Aizvērt</button>
							</div>

							<!-- Pogas konteiners -->
							<div class="button-container bottom" id="buttonContainer">
								<button id="resetMap">
									<img src="https://site-710050.mozfiles.com/files/710050/RESER_MAPS_Cropped-Photoroom.png" alt="Reset Map">
								</button>
								<button id="uploadMap">
									<img src="https://site-710050.mozfiles.com/files/710050/UPLOAD_MAPS_Cropped-Photoroom.png" alt="Upload Map">
								</button>
                <button id="toggleOnlineMap" data-title="Tiešsaistes karte" aria-label="Tiešsaistes karte">
                  <img alt="Tiešsaistes karte"
                       src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='3,6 9,3 15,6 21,3 21,18 15,21 9,18 3,21 3,6'/%3E%3Cline x1='9' y1='3' x2='9' y2='18'/%3E%3Cline x1='15' y1='6' x2='15' y2='21'/%3E%3C/svg%3E">
                </button>
								<button id="resetCompass">
									<img src="https://site-710050.mozfiles.com/files/710050/RESET_COMPASS_Cropped-Photoroom.png" alt="Reset Compass">
								</button>
								<button class="touch-only" id="toggleRotationMode">
									<img src="https://site-710050.mozfiles.com/files/710050/ROTATE_COMPASS_BASE__1__Cropped-Photoroom.png" alt="Toggle Rotation">
								</button>			
								<button class="touch-only" id="lockRotationMode">
									<img src="https://site-710050.mozfiles.com/files/710050/COMPASS_ROTATE_LOCK_OPEN__1__Cropped-Photoroom.png" alt="Lock Rotation">
								</button>	
								<button id="rotateCompass90">
									<img src="https://site-710050.mozfiles.com/files/710050/GRID_VIEW_Cropped-Photoroom.png" alt="Rotate 90° and Lock">
								</button>
								<button id="toggleFullscreen">
								<img id="fullscreenIcon" src="https://site-710050.mozfiles.com/files/710050/icon_fullscreen_enter.png" alt="Pilnkrāna Ieslēgšana">
								</button>
							</div>
							
							<div id="about">
							<a href="javascript:void(0);" class="qrLink" onclick="toggleIframeQR(event)">KOPLIETOT</a>
								<span class="abouttext">CADET.LV</span>
								<span class="abouttext" >INTERAKTĪVAIS KOMPASS</span> 
								<span class="abouttext">© JĀNIS EGLIS</span>
								<a href="javascript:void(0);" class="aboutlink" onclick="toggleIframeAbout(event)">ATSAUKSME / ZIŅOT</a>
							</div>
							
							
							<!-- IFRAME KONTEINERS (SĀKOTNĒJI PASLĒPTS) -->
							<div id="iframeContainerAbout">
								<iframe id="feedbackIframe" src="https://docs.google.com/forms/d/e/1FAIpQLSdflr72km2RpI7hdn05AmH5gRZgBk69y7UCz0sCJ37ujOyQ3Q/viewform?embedded=true" frameborder="0"></iframe>
								<button id="closeIframeAbout" onclick="toggleIframeAbout(event)">✖</button>
							</div>						
							
							<!-- QR kods konteineris (SĀKOTNĒJI PASLĒPTS) -->
							<div id="iframeContainerQR">
								<div id="qrCodeContent">
									<p class="qrTitle">KOPLIETOŠANAS QR KODS AUDITORIJAI</p>
									<img id="qrCodeImage" src="https://site-710050.mozfiles.com/files/710050/DOC_ERROR_AR_KRUSTU_PNG-1.png" alt="QR Code">
								</div>
								<button id="closeIframeQR" onclick="toggleIframeQR(event)">✖</button>
							</div>

							<div id="compassContainer">
								<div id="compassScaleContainer">
									<div id="compassInner">
										<img id="compassBase" src="https://site-710050.mozfiles.com/files/710050/VIRTUALAIS_KOMPASS_PAMATNE_PV6.png" alt="Compass Base">
									</div>  
									<div id="compassScaleInner">
										<img id="compassScale" src="https://site-710050.mozfiles.com/files/710050/KOMPASA_SKALA_CADET_LV_PV6_V3.png" alt="Compass Scale">
									</div>      
									<img id="compassNeedle" src="https://site-710050.mozfiles.com/files/710050/VIRTUALAIS_KOMPASS_ADATA_CADET_LV_PV4.png" alt="Compass Needle">  
								</div>
							</div>


















<!-- Modern/Legacy sargs: modern = app.js; legacy = transpile on the fly -->
<script>
(function(){
  function supportsOptChain(){ try { return new Function("var a={b:1}; return a?.b")()===1; } catch(e){ return false; } }
  function supportsNullish(){ try { return new Function("var a=null; return a ?? 5")()===5; } catch(e){ return false; } }

  if (supportsOptChain() && supportsNullish()) {
    // Moderns – ielādē parasto app.js
    document.write('<script defer src="app.js"><\/script>');
  } else {
    // Legacy – 1) Babel Standalone, 2) atnes app.js, 3) pārtulko uz ES5 un palaiž
    document.write('<script nomodule src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>');
    document.write('<script nomodule>(function(){' +
      'var x=new XMLHttpRequest(); x.open("GET","app.js");' +
      'x.onload=function(){ try{' +
      ' var out=Babel.transform(x.responseText,{presets:[[\"env\",{targets:{chrome:\"60\"}}]]}).code;' +
      ' (0,eval)(out); console.info(\"[legacy] transpiled app.js on the fly\");' +
      '}catch(e){ console.error(\"[legacy-transpile]\",e); }};' +
      'x.onerror=function(){ console.error(\"[legacy-transpile] failed to load app.js\"); };' +
      'x.send();' +
    '})();<\/script>');
  }
})();
</script>













	
	
</body>
</html>
