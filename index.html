<!doctype html>
<html lang="lv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <title>CADET.LV InteraktÄ«vais kompass Â© JÄnis Eglis</title>
  <!-- Stili -->
  <link rel="stylesheet" href="style.css">
  <!-- Leaflet (ja nelieto tieÅ¡saistes karti, vari izdzÄ“st Å¡Ä«s 2 rindas) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>
  <!-- Galvenais skripts -->
  <script type="module" src="app.js" defer></script>
</head>
<body>
   	<!-- BrÄ«dinÄjuma pÄrklÄjums viedtÄlruÅ†iem -->
							<div id="mobile-warning" style="display: none;">
								<div class="warning-content">
									<p>LÅ«dzu, izmantojiet lielÄku ekrÄnu Å¡Ä«s lietotnes darbÄ«bai.</p>
									<img style="width:100px; height:auto;" src="https://site-710050.mozfiles.com/files/710050/fullscreen-11-xxl.png" alt="Nepietiekams ekrÄna izmÄ“rs" style="width: 80%; margin-top: 20px;">
									<p>INTERAKTÄªVAIS KOMPASS</p>
									<p style="color: rgba(255, 255, 255, 0.5);">CADET.LV | Â© JÄnis Eglis</p>
								</div>
							</div>

							<!-- PÄrklÄjums mobilajÄm ierÄ«cÄ“m vertikÄlÄ reÅ¾Ä«mÄ -->
							<div id="orientation-overlay">
								<h1><img src="https://site-710050.mozfiles.com/files/710050/medium/Rotate_V5-2.jpg" alt="Pagrieziet ierÄ«ci"></h1>
							</div>						

							<div id="fullscreenMessage" class="fs-message-hidden">
								<div class="arrow"></div>
								<p id="fullscreenMessagetext">
									<span class="highlight-title">LÅ«dzu, iestatiet logu pilnÄ izmÄ“rÄ, lai sÄktu darbu.</span>
									<br>
									Varat izmantot F11, lai logu darbinÄtu pilnekrÄna reÅ¾Ä«mÄ vai palielinÄt logu lÄ«dz ekrÄna izmÄ“ram spieÅ¾ot simbolu "ğ–§µ" pÄrlÅ«ka galvenÄ“.<br><br>
									<a href="https://cadet.lv" target="_blank" style="color: white; font-weight: bold;">CADET.LV</a>
									<br>
									<span style="color: " class="copyright">CADET.LV | Â© JÄnis Eglis</span>
								</p>
							</div> 
							
							<div id="touchscreenPopup"></div>
							
							<div id="fullscreenPopup"></div>

													
							<div id="canvasContainer" 
								 style="position: fixed; 
										width: 1920px; 
										height: 1080px;">

							  <!-- kanva kartei -->
							  <canvas id="mapCanvas" width="1920" height="1080" style="display:block; width:100%; height:100%;"></canvas>



                <!-- TieÅ¡saistes karte (Leaflet) + tumÅ¡oÅ¡anas pÄrklÄjums -->
                <div id="onlineMap"></div>
                <div id="onlineMapDim"></div>



								
							  <!-- Jaunais <img>, kur glabÄt augÅ¡upielÄdÄ“to attÄ“lu -->
							  <img id="uploadedImg" 
								   src="" 
								   alt="AugÅ¡upielÄdÄ“tais attÄ“ls"
								   style="
									 position: absolute;
									 top: 0;
									 left: 0;
									 display: none; /* SlÄ“pts lÄ«dz augÅ¡upielÄdÄ“ attÄ“lu */
									 cursor: move;  /* Ja vÄ“laties, var padarÄ«t arÄ« pÄrvietojamu */
									  
									 ">
									 

							  <!-- MapResize rokturis -->
								<div id="resizeHandle">
									<img src="https://site-710050.mozfiles.com/files/710050/resize_map__1_.png" alt="Resize">
								</div>
							</div>

																			
							<!-- MapResize Papildu elements attÄ“lam -->
							<img id="newUploadedImg" 
								 style="
								   position: absolute; 
								   top: 50px; 
								   left: 50px; 
								   display: none;
								   cursor: move;
								   
								 " 
								 alt="AugÅ¡upielÄdÄ“tais attÄ“ls">

							<!-- MapResize rokturis -->
							<div id="newResizeHandle"
								 style="
								   display: none;
								   width: 30px;
								   height: 30px;
								   position: absolute;
								   cursor: se-resize;
								   z-index: 9;
								 ">
							</div>						
							

							<div class="dropdown-container">
							        <div class="top-bar">
							            <span class="dropdown-toggle" id="toggleInstruction">LietotÄja ceÄ¼vedis â¬‡</span>
							            <span class="dropdown-toggle" id="toggleMaterials">MÄcÄ«bu materiÄli â¬‡</span>
							        </div>
							
							        <div class="dropdown-menu" id="dropdownInstruction">
							            <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/lietotaja-celvedis/page/">DARBAM AR DATORU</a>
							            <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/lietotaja-celvedis/page-1/">DARBAM AR SKÄ€RIENJÅªTÄªGÄ€M IERÄªCÄ’M</a>
										<a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/lietotaja-celvedis/page-2/">LIETOÅ ANAS NOTEIKUMI</a>
							           <iframe id="instructionFrame" name="contentFrame" style="width: 100%; height: 85vh; border: none;"></iframe>  
							            
							        </div>
							
							        <div class="dropdown-menu" id="dropdownMaterials">
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/topografiskas-kartes/" class="dropdown-link">TOPOGRÄ€FISKÄ€S KARTES</a>
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/merogs-un-attalumi/" class="dropdown-link">MÄ’ROGS UN ATTÄ€LUMI</a>
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/apzimejumi-kartes/" class="dropdown-link">APZÄªMÄ’JUMI KARTÄ’S</a>
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/direkcijas-lenkis-un-azimuts/" class="dropdown-link">DIREKCIJAS LEÅ…Ä¶IS UN AZIMUTS</a>
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/koordinates/" class="dropdown-link">KOORDINÄ€TES</a>
							        <a href="https://cadet.mozello.lv/virtualais-kompass-macibu-materiali-un-instrukcija/macibu-materiali/citi/" class="dropdown-link">CITI</a>
									
									 
							 <iframe id="contentFrame" name="contentFrame" style="width: 100%; height: 75vh; border: none;"></iframe>
							        </div>
									 			
														
							</div>	
														

							 <!-- IzvÄ“lne konteineram -->
							 <!-- IzvÄ“lne konteineram LABAJÄ€ pusÄ“ -->
							<div class="position-selector-container">
								<div class="position-selector">
									<button class="toggle-selector">â¯</button>
									<select id="positionSelect">
										<option disabled selected>IzvÄ“lies pogas novietojumu:</option>
										<option value="bottom">ApakÅ¡Ä (noklusÄ“jums)</option>
										<option value="right">LabajÄ pusÄ“</option>
										<option value="left">KreisajÄ pusÄ“</option>
									</select>
								</div>
							</div>

							<!-- IzvÄ“lne konteineram KREISAJÄ€ pusÄ“ -->
							<div class="position-selector-container-left">
								<div class="position-selector-left">
									<button class="toggle-selector-left">â¯</button>
									<select id="positionSelectLeft">
										<option disabled selected>IzvÄ“lies pogas novietojumu:</option>
										<option value="bottom">ApakÅ¡Ä (noklusÄ“jums)</option>
										<option value="right">LabajÄ pusÄ“</option>
										<option value="left">KreisajÄ pusÄ“</option>
									</select>
								</div>
							</div>

							<!-- Popup grid view -->
							<div id="popupMenu" style="display: none;">
								<h3>IzvÄ“lieties noteikÅ¡anas metodi</h3>
								<div class="button-row">
									<button id="popupOption1" class="popup-button">
										<img src="https://site-710050.mozfiles.com/files/710050/GRID_VIEW_1_1.png" alt="Funkcija 1">
									</button>
									<button id="popupOption2" class="popup-button">
										<img src="https://site-710050.mozfiles.com/files/710050/GRID_VIEW_2.png" alt="Funkcija 2">
									</button>
								</div>
								<button id="popupClose" class="popup-close">AizvÄ“rt</button>
							</div>

							<!-- Pogas konteiners -->
							<div class="button-container bottom" id="buttonContainer">
								<button id="resetMap">
									<img src="https://site-710050.mozfiles.com/files/710050/RESER_MAPS_Cropped-Photoroom.png" alt="Reset Map">
								</button>
								<button id="uploadMap">
									<img src="https://site-710050.mozfiles.com/files/710050/UPLOAD_MAPS_Cropped-Photoroom.png" alt="Upload Map">
								</button>
                <button id="toggleOnlineMap" data-title="TieÅ¡saistes karte" aria-label="TieÅ¡saistes karte">
                  <img alt="TieÅ¡saistes karte"
                       src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='3,6 9,3 15,6 21,3 21,18 15,21 9,18 3,21 3,6'/%3E%3Cline x1='9' y1='3' x2='9' y2='18'/%3E%3Cline x1='15' y1='6' x2='15' y2='21'/%3E%3C/svg%3E">
                </button>
								<button id="resetCompass">
									<img src="https://site-710050.mozfiles.com/files/710050/RESET_COMPASS_Cropped-Photoroom.png" alt="Reset Compass">
								</button>
								<button class="touch-only" id="toggleRotationMode">
									<img src="https://site-710050.mozfiles.com/files/710050/ROTATE_COMPASS_BASE__1__Cropped-Photoroom.png" alt="Toggle Rotation">
								</button>			
								<button class="touch-only" id="lockRotationMode">
									<img src="https://site-710050.mozfiles.com/files/710050/COMPASS_ROTATE_LOCK_OPEN__1__Cropped-Photoroom.png" alt="Lock Rotation">
								</button>	
								<button id="rotateCompass90">
									<img src="https://site-710050.mozfiles.com/files/710050/GRID_VIEW_Cropped-Photoroom.png" alt="Rotate 90Â° and Lock">
								</button>
								<button id="toggleFullscreen">
								<img id="fullscreenIcon" src="https://site-710050.mozfiles.com/files/710050/icon_fullscreen_enter.png" alt="PilnkrÄna IeslÄ“gÅ¡ana">
								</button>
							</div>
							
							<div id="about">
							<a href="javascript:void(0);" class="qrLink" onclick="toggleIframeQR(event)">KOPLIETOT</a>
								<span class="abouttext">CADET.LV</span>
								<span class="abouttext" >INTERAKTÄªVAIS KOMPASS</span> 
								<span class="abouttext">Â© JÄ€NIS EGLIS</span>
								<a href="javascript:void(0);" class="aboutlink" onclick="toggleIframeAbout(event)">ATSAUKSME / ZIÅ…OT</a>
							</div>
							
							
							<!-- IFRAME KONTEINERS (SÄ€KOTNÄ’JI PASLÄ’PTS) -->
							<div id="iframeContainerAbout">
								<iframe id="feedbackIframe" src="https://docs.google.com/forms/d/e/1FAIpQLSdflr72km2RpI7hdn05AmH5gRZgBk69y7UCz0sCJ37ujOyQ3Q/viewform?embedded=true" frameborder="0"></iframe>
								<button id="closeIframeAbout" onclick="toggleIframeAbout(event)">âœ–</button>
							</div>						
							
							<!-- QR kods konteineris (SÄ€KOTNÄ’JI PASLÄ’PTS) -->
							<div id="iframeContainerQR">
								<div id="qrCodeContent">
									<p class="qrTitle">KOPLIETOÅ ANAS QR KODS AUDITORIJAI</p>
									<img id="qrCodeImage" src="https://site-710050.mozfiles.com/files/710050/DOC_ERROR_AR_KRUSTU_PNG-1.png" alt="QR Code">
								</div>
								<button id="closeIframeQR" onclick="toggleIframeQR(event)">âœ–</button>
							</div>

							<div id="compassContainer">
								<div id="compassScaleContainer">
									<div id="compassInner">
										<img id="compassBase" src="https://site-710050.mozfiles.com/files/710050/VIRTUALAIS_KOMPASS_PAMATNE_PV6.png" alt="Compass Base">
									</div>  
									<div id="compassScaleInner">
										<img id="compassScale" src="https://site-710050.mozfiles.com/files/710050/KOMPASA_SKALA_CADET_LV_PV6_V3.png" alt="Compass Scale">
									</div>      
									<img id="compassNeedle" src="https://site-710050.mozfiles.com/files/710050/VIRTUALAIS_KOMPASS_ADATA_CADET_LV_PV4.png" alt="Compass Needle">  
								</div>
							</div>
</body>
</html>
